@using Common.Models
@{
	ViewData["Title"] = "Customers";
}


<div>
	<button class="btn btn-primary" data-toggle="modal" data-target="#customer-modal">Add customer</button>
</div>

@if (@Model.Count > 0)
{
	<ul class="list-group" style="margin-top: 45px;">
		@{
			foreach (CustomerModel item in @Model)
			{
				<li class="list-group-item">
					<div style="display: inline !important">
						<div style="width: 75%; display: inline-block">
							<span>@item.CustomerName</span>
						</div>
						<div style="width: 20%; display: inline-block; text-align: center">
							<a class="btn btn-danger">Delete Customer</a>
						</div>
					</div>
				</li>
			}
		}
	</ul>
}
else
{
	<div style="margin-top: 50px; text-align: center ">
		<h2>There are no customers yet.</h2>
	</div>
}


<div class="modal fade" tabindex="-1" role="dialog" id="customer-modal">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title">Create Customer</h5>
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="modal-body">
				<form>
					<div class="form-group row">
						<label for="customer-name" class="col-sm-4 col-form-label">Customer Name</label>
						<div class="col-sm-8">
							<input type="text" class="form-control" id="customer-name" placeholder="Customer name" data-bind="value: customerName">
						</div>
					</div>
				</form>

				<!-- ko if: showValidationErrors() -->
				<div style="text-align: center; color: firebrick;">
					<span data-bind="text: validationMessage"></span>
				</div>
				<!-- /ko -->

			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-primary" data-bind="click: createCustomer">Save Customer</button>
				<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
			</div>
		</div>
	</div>
</div>

@section Scripts{
	<script src="~/js/knockout-3.5.1.js"></script>
	<script src="~/js/Order/customer.js"></script>
}